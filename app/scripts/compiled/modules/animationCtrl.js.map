{"version":3,"sources":["modules/animationCtrl.js"],"names":[],"mappings":"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","file":"modules/animationCtrl.js","sourcesContent":["var ns = ns || {};\nvar Velocity = Velocity || {};\n\n(function(window, document, undefined) {\n\n    'use strict';\n\n    /**\n    * Animation Controller\n    */\n    \n    ns.animationCtrl = (function(){\n\n        // App config and variables\n        var DOM = {\n            body            : document.querySelectorAll('body')[0],\n            cracker \t\t: document.getElementById('cracker'),\n            crackerLeft \t: document.getElementById('cracker-left'),\n            crackerRight \t: document.getElementById('cracker-right'),\n            diamond \t\t: document.getElementById('diamond'),\n            diamondDate \t: document.getElementById('diamond-date'),\n        };\n        \n        var settings = {\n            crackerFired: false\n        };\n\n\n        /**\n        * @name init\n        * @desc Initialises the menu\n        */ \n        var init = function () {\n            \n            // Initialise animation controller\n            DOM.body.setAttribute('ui-animation-ctrl', 'is-started');\n            \n            // Set correct date on cracker\n            DOM.diamondDate.innerHTML = ns.CONST.DAY;\n\n        };\n\n\n        /**\n        * @name introComplete\n        * @desc Intro animation has completed\n        */ \n        var _introComplete = function () {\n            \n            // Now initialise video controller (prevents jank on page load)\n            ns.videoCtrl.init();\n            \n            // Set correct date on cracker\n            _attachEventListeners(); // Enable hovers\n\n        };\n\n\n        /**\n        * @name _attachEventListeners\n        * @desc Attach listeners AFTER the initial animation\n        */ \n        var _attachEventListeners = function () {\n            \n            DOM.cracker.addEventListener('mouseover', _crackerHoverOn, false);\n            DOM.cracker.addEventListener('mouseout', _crackerHoverOff, false);\n            DOM.cracker.addEventListener('click', _fireCracker, false);\n\n        };\n\n\n        /**\n        * @name _toggleMenu\n        * @desc Animates the cracker in\n        */   \n        var showCracker = function () {\n            \n\t\t\tVelocity(DOM.cracker, { translateZ: '-1000px' }, 0);\n\t\t\tVelocity(DOM.cracker, { translateZ: '0px' }, 1000, [1.5, 1.15]);\n            \n\t\t\tVelocity(DOM.diamond, { \n                scale: 0,\n                rotateZ: '45deg'\n            }, 200);\n\t\t\tVelocity(DOM.diamond, { \n                scale: 1.2,\n                rotateZ: '45deg'\n            }, {\n                duration: 200,\n                complete: function() { _introComplete(); }\n            });\n\t\t\tVelocity(DOM.diamond, { \n                scale: 1,\n                rotateZ: '45deg'\n            }, 1000, [2, 1.15]);\n        };\n\n\n        /**\n        * @name _crackerHoverOn\n        * @desc Animates the cracker in\n        */   \n        var _crackerHoverOn = function () {\n            \n            // No hover effects if cracker has been blown\n            if (settings.crackerFired) { return; }\n            \n            Velocity(DOM.cracker, 'stop');\n            Velocity(DOM.diamond, 'stop');\n            \n\t\t\tVelocity(\n                DOM.cracker, { \n                    translateZ: '100px',\n                    rotateZ: '3deg'\n                }, 500, [1.7, 1.15]\n            );\n            \n\t\t\tVelocity(\n                DOM.diamond, { \n                    scale: 1.2,\n                    rotateZ: '40deg'\n                }, {\n                    queue: false,\n                    duration: 600,\n                    easing: [2, 1.15]\n                });\n                \n        };\n\n\n        /**\n        * @name _crackerHoverOff\n        * @desc Animates the cracker in\n        */   \n        var _crackerHoverOff = function () {\n            \n            // No hover effects if cracker has been blown\n            if (settings.crackerFired) { return; }\n            \n            Velocity(DOM.cracker, 'stop');\n            Velocity(DOM.diamond, 'stop');\n            \n\t\t\tVelocity(\n                DOM.cracker, { \n                translateZ: '0px',\n                rotateZ: '0deg'\n            }, 500, [1.7, 1.15]);\n            \n\t\t\tVelocity(\n                DOM.diamond, { \n                    scale: 1,\n                    rotateZ: '45deg'\n                }, {\n                    queue: false,\n                    duration: 600,\n                    easing: [2, 1.15]\n                });\n            \n        };\n\n\n        /**\n        * @name _fireCracker\n        * @desc Pop that cracker\n        */   \n        var _fireCracker = function () {\n            \n            settings.crackerFired = true;\n            \n\t\t\tVelocity(\n                DOM.crackerLeft, { \n                translateX: '-300px',\n                translateY: '100px',\n                rotateZ: '-90deg',\n            }, 500, [1.7, 1.15]);\n            \n\t\t\tVelocity(\n                DOM.crackerRight, { \n                translateX: '300px',\n                translateY: '-90px',\n                rotateZ: '270deg',\n            }, {\n                queue: false,\n                duration: 500,\n                easing: [1.7, 1.15],\n                complete: function() { ns.videoCtrl.playVideo(); }\n            });\n            \n\t\t\tVelocity(\n                DOM.cracker, { \n                    opacity: 1\n                }, {\n                    queue: false,\n                    opacity: 0\n                });\n            \n        };\n        \n        //////////////////\n\n        var module = {\n\t\t\tinit: init,\n\t\t\tshowCracker: showCracker\n        };\n\n        return module;\n    })();\n    \n})(window, document);"],"sourceRoot":"/source/"}